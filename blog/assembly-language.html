<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:x="https://www.texmacs.org/2002/extensions" xmlns:m="http://www.w3.org/1998/Math/MathML">
  <head>
    <title>Assembly Language</title>
    <meta content="TeXmacs 2.1" name="generator"></meta>
    <link href="../resources/web-article.css" type="text/css" rel="stylesheet"></link>
    <link href="../resources/favicon.png" rel="icon"></link>
    <script src="../resources/highlight.pack.js" language="javascript" defer></script>
    <script src="../resources/notes-base.js" language="javascript" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" language="javascript"></script>
  </head>
  <body>
    <div class="notes-header">
      <p>
        <a href="./list-articles.html">[archive]</a><span style="margin-left: 2pt"></span><a href="./main.html">[main]</a><font
        class="notes-header-name">&#x72F7;&#x58A8;&#x5C45;</font>
      </p>
    </div>
    <p>
      
    </p>
    <table class="title-block" style="margin-bottom: 2em">
      <tr>
        <td><table class="title-block" style="margin-top: 0.5em; margin-bottom: 0.5em">
          <tr>
            <td><font style="font-size: 168.2%"><strong>Assembly Language</strong></font></td>
          </tr>
        </table></td>
      </tr>
    </table>
    <p>
      <hr></hr>
    </p>
    <center>
      <p style="margin-top: 0.5em; margin-bottom: 0.5em">
        <b>Summary</b>
      </p>
    </center>
    <font style="font-size: 84.1%"><p>
      &#x66FE;&#x7ECF;&#x5B66;&#x4E60;Nand2Tetris&#x65F6;&#x7684;&#x62A5;&#x544A;&#xFF0C;&#x5173;&#x4E8E;&#x6C47;&#x7F16;&#x8BED;&#x8A00;&#x53CA;&#x6C47;&#x7F16;&#x5668;&#x3002;
    </p></font>
    <p>
      <hr></hr>
    </p>
    <p>
      Having built the entire functional Hack computer,this chapter advances
      towards the hardware-binded control method of the computer, which is
      <strong>assembly language</strong>. It's our first stop in the journey
      through the <em>software layer</em>.<em>NOTE</em> the order has been
      rearranged,and this chapter is corresponded with original chapter 4.
    </p>
    <p>
      <img class="image" src="https://cdn.jsdelivr.net/gh/linusboyle/imgupload/upload/2020-02-23-21-38-01-6996.png" width="100%"></img>
    </p>
    <h2 id="auto-1">Introduction<span style="margin-left: 1em"></span></h2>
    <p>
      Congratulations on your completed implementation of the Hack computer.
      It's fully functional,and also,powerful. We originate from
      <strong>Nand</strong> gate only to build the whole computer and adopt
      Harvard architecture ,which faclitates matters when we look into the
      underlying structure.Here's a graph to make your memory of
      <strong>computer architecture</strong> come back.[1] 
    </p>
    <p>
      <img class="image" src="https://cdn.jsdelivr.net/gh/linusboyle/imgupload/upload/2020-02-23-21-38-45-2906.png" width="100%"></img>
    </p>
    <p>
      We're now going to build our software layers and this chapter will
      discuss the language that directly generated by hardware implementation
      and design an assembly language. In the end,we shall be capable to get
      the machine running as instructed.
    </p>
    <h3 id="auto-2">What is program?<span style="margin-left: 1em"></span></h3>
    <p>
      Instruction memory,or <em>ROM</em>, is where the instructions are
      stored. Recall the design of our Hack computer,and you may remember the
      <strong>Reset</strong> button on the surface of the computer,which will
      redirect PC to be 0 - equally restart the program. Computer reads
      instructions in ROM according to the content of PC,and all the
      instructions form the <em>program</em>.
    </p>
    <p>
      Since you have already built the computer,it's quite easy to find the
      instructions can be classified into 2 kinds: One kind changes the
      content of A-register,while another carries out operations. You can
      divide the latter into 2 aspects as well :either jump among the
      instructions of the program or conduct arithmetical&amp;logical
      operation.
    </p>
    <p>
      What we use to encode our program is machine-binded string of 0s and
      1s,computer explicitly obey the codes.We call them <strong>Machine
      language</strong>,because of its direct connection with the underlying
      hardware platform.
    </p>
    <h3 id="auto-3">What is programming?<span style="margin-left: 1em"></span></h3>
    <p>
      Generally speaking,what we are going to do in following chapters is
      <strong>all about solving problems by programming</strong>. When we
      already have the computer running,how to translate mental thought or
      concept to machine-undertstandable notation by programming is the case.
      A graph below summarizes the general process.[2]
    </p>
    <p>
      <img class="image" src="https://cdn.jsdelivr.net/gh/linusboyle/imgupload/upload/2020-02-23-21-39-03-166.png"></img>
    </p>
    <p>
      As you can see,machine language serves as the fundamental of the
      software layer as well as the interface for hardware. We can prove that
      anything a computer can do is able to be expressed by this language.When
      we are <strong>programming</strong>,the code produced all originate from
      machine language. What we will do is just facilitate the process of
      programming.
    </p>
    <h3 id="auto-4">Assembly:Why do we need it?<span style="margin-left: 1em"></span></h3>
    <p>
      The difference between a machine and a human brain decides there should
      be higher level of language for programmers.<strong>Assembly
      Language</strong> is the most fundamental abstraction,which can be
      understood as mnemonic notation for the machine language. For instance ,
      <code>1110001110000000</code> can be represented by <code>D-1</code>.
    </p>
    <p>
      The design of assembly language is not fixed,but it should be
      tightly-binded to machine language. Generally speaking,a single assembly
      instruction is in correspondance with a single machine instruction,so
      there is no true difference between these two,because the
      <strong>vocabulary</strong> of the languages is the same - as stated
      before,jumping and operations - Just like :
    </p>
    <p>
      &lt;!&ndash;&ldquo;&lsquo;sequence&ndash;&gt;
      &lt;!&ndash;English-&gt;French:one to one&ndash;&gt;
      &lt;!&ndash;French-&gt;English:&ndash;&gt;
    </p>
    <p>
      &lt;!&ndash;English-&gt;Latin:several to one&ndash;&gt;
      &lt;!&ndash;Latin-&gt;English:&ndash;&gt;
      &lt;!&ndash;&ldquo;&lsquo;&ndash;&gt;
    </p>
    <p>
      But we will see later that although unnecessary,the assembly language
      can provide utilities for <em>programmers</em>,for the sake of
      simplifying the <strong>programming process</strong>.
    </p>
    <h2 id="auto-5">Specification<span style="margin-left: 1em"></span></h2>
    <p>
      In this part we will see how the Hack Assembly language is designed,and
      learn how to program using this language. A vast part of details in this
      section can be found in <strong>Nand2Tetris textbook ,Section
      4.2</strong>. Although we rearrange the order of the chapters,it still
      throws light on the topic.
    </p>
    <h3 id="auto-6">A- and C- Instructions<span style="margin-left: 1em"></span></h3>
    <p>
      As mentioned before,from the input of CPU,we classify the instructions
      to two kinds.In assembly language we define them to A- and C-
      instructions,respectively.
    </p>
    <p>
      A-instruction is used to change the content of A register,its syntax is:
    </p>
    <p>
      <img class="image" src="https://cdn.jsdelivr.net/gh/linusboyle/imgupload/upload/2020-02-23-21-42-15-2944.png"></img>
    </p>
    <p>
      while C-instruction is used to carry out operation,jump through program
      and change the content of D and M register:
    </p>
    <p>
      <img class="image" src="https://cdn.jsdelivr.net/gh/linusboyle/imgupload/upload/2020-02-23-21-42-30-3996.png"></img>
    </p>
    <p>
      These two kinds of instructions are all user-friendly notation for
      corresponding machine code,as shown above.For more information,just
      refer to the Nand2Tetris textbook where more details are discussed.
    </p>
    <h3 id="auto-7">Expanded Utilities of Hack Assembly Language<span style="margin-left: 1em"></span></h3>
    <p>
      It's unnecessary to provide more feature for assembly language, as is in
      the sentence <em>Keep it simple and stupid</em>.But with care,adding a
      few of them boost the process of programming. 
    </p>
    <ul>
      <li>
        <p>
          The First Improvement: You may notice that <strong>A,D,M</strong>
          are all pre-defined symbol respectively referring to A-,D-,M-
          register.As long as we have symbols for certain RAM location,we can
          bring in more predefined ones to simplify the coding.You can refer
          to section 4.2.4 for more information.
        </p>
      </li>
      <li>
        <p>
          The Second Improvement: We should provide the feature that is the
          most useful.When programming using assembly,counting the number of
          instructions is the greatest nuisance. A good way to get rid of it
          is to define a &ldquo;symbol&rdquo; as well.But the symbol is not
          for register but for instruction,and we call it
          <strong>label</strong>. A label represent the next following
          instruction and can be referred to by jump operation. It greatly
          reduces the time for programming.
        </p>
        <p>
          Likewise,we can allow programmers to define own symbols for certain
          registers.The user-defined identifier (label or symbol) will make
          the process more automatic.See section 4.2.4 for more information
        </p>
      </li>
    </ul>
    <p>
      These <strong>improvement</strong> adds up to the power of the assembly
      language,by which improves the efficiency.
    </p>
    <h2 id="auto-8">Projects<span style="margin-left: 1em"></span></h2>
    <p>
      After fully learned the principles of assembly language,try to write
      programs to carry out practical opearations using hack assembly
      language,with specification of the project described in section 4.4
    </p>
    <h2 id="auto-9">Additional points<span style="margin-left: 1em"></span></h2>
    <h4 id="auto-10">completenesss of <em>mov</em>,and the instruction set<span style="margin-left: 1em"></span></h4>
    <p>
      <img class="image" src="https://cdn.jsdelivr.net/gh/linusboyle/imgupload/upload/2020-02-23-21-42-52-6058.png"></img>
    </p>
    <p>
      <strong>In previous chapter</strong>,we have stated that <strong>Nand is
      complete</strong> and <strong>Add is complete</strong>,.etc. What about
      the language part? Is a single instruction able to represent all the
      others?
    </p>
    <p>
      <em>mov</em> is an instruction in <a href="https://en.wikipedia.org/wiki/X86">x86</a> architecture,Stephen
      Dolan has proved that by using <em>mov</em> and using it only we can
      represent any process that a computer can do.[3]
    </p>
    <p>
      However,just like we do not use Nand everytime we want to implement a
      chip,and do not use add always,we do not use a single instruction to
      carry out all the operations.Modern CPU takes several to thousands
      instructions as their input,and is divided to RISC and CISC accroding to
      the number of the instructions.Learn more from the link in [4].
    </p>
    <h2 id="auto-11">Summary<span style="margin-left: 1em"></span></h2>
    <p>
      By learning how to write programs and what is programming using Hack
      Assembly language,you are supposed to have basic concept of what we will
      do in following chapters discussing more software abstraction layers.
      Before we advance to next layer,we have to implement all the features we
      learned here in next chapter,by a program called
      <strong>assembler</strong>.
    </p>
    <h2 id="auto-12">Reference<span style="margin-left: 1em"></span></h2>
    <p>
      [1] Picture from <a href="http://www.toves.org/books/java/ch01-overview/index.html">http://www.toves.org/books/java/ch01-overview/index.html</a>
    </p>
    <p>
      [2] Picture from <a href="https://en.wikipedia.org/wiki/Harvard_architecture">https://en.wikipedia.org/wiki/Harvard_architecture</a>
    </p>
    <p>
      [3] Stephen Dolan(2013),mov is Turing-complete,Computer Laboratory,
      University of Cambridge.Accessible from here:<a href="https://www.cl.cam.ac.uk/~sd601/papers/mov.pdf">https://www.cl.cam.ac.uk/~sd601/papers/mov.pdf</a>
    </p>
    <p>
      [4] Wikipedia,Reduced_Instruction_set_computer,see here:<a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer">https://en.wikipedia.org/wiki/Reduced_instruction_set_computer</a>
    </p>
    <p>
      <hr></hr>
    </p>
    <p>
      Articles are licensed by <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons
      Attribution-NonCommercial-ShareAlike 4.0 International</a>. 
    </p>
    <p>
      This page was rendered on <tt class="verbatim">2022-01-23</tt> using TeXmacs
      version <tt class="verbatim">2.1</tt>.
    </p>
  </body>
</html>